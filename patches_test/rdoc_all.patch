# without this, intermittent failures in CI
diff --git a/test/rdoc/support/test_case.rb b/test/rdoc/support/test_case.rb
index 36009111e2..7617fc8471 100644
--- a/test/rdoc/support/test_case.rb
+++ b/test/rdoc/support/test_case.rb
@@ -13,7 +13,7 @@
 require 'tmpdir'
 require 'stringio'
 
-require_relative '../../../lib/rdoc'
+require 'rdoc'
 
 ##
 # RDoc::TestCase is an abstract TestCase to provide common setup and teardown
diff --git a/test/rdoc/test_rdoc_servlet.rb b/test/rdoc/test_rdoc_servlet.rb
index 7a5b15a6eb..965912c9d5 100644
--- a/test/rdoc/test_rdoc_servlet.rb
+++ b/test/rdoc/test_rdoc_servlet.rb
@@ -5,6 +5,9 @@
 rescue LoadError
 end
 
+require 'tsort' rescue nil
+require 'json'  rescue nil
+
 class TestRDocServlet < RDoc::TestCase
 
   def setup
